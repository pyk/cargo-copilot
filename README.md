<p align="center">
  <a href="https://pyk.sh">
    <picture>
      <source media="(prefers-color-scheme: dark)" srcset="https://github.com/pyk/cargo-copilot/blob/main/.github/logo-dark.svg">
      <img alt="pyk/cargo-copilot logo" src="https://github.com/pyk/cargo-copilot/blob/main/.github/logo-light.svg">
    </picture>
  </a>
</p>

<p align="center">
  MCP Server for Rust
<p>

<p align="center">
  <img src="https://img.shields.io/crates/v/copilot.svg?colorA=00f&colorB=fff&style=flat&logo=rust" alt="Crates.io">
  <img src="https://img.shields.io/crates/d/copilot?colorA=00f&colorB=fff&style=flat&logo=rust" alt="Downloads">
  <img src="https://img.shields.io/github/license/pyk/cargo-copilot?colorA=00f&colorB=fff&style=flat" alt="MIT License">
</p>

## Getting started

`cargo-copilot` is a Model Context Protocol (MCP) server that gives LLMs access
to your local Cargo workspace context and documentation.

### Installation

Install the binary:

```sh
cargo install copilot
```

### Configuration

#### VSCode (with MCP Extension)

Configure `.vscode/mcp.json`:

```json
{
  "servers": {
    "cargo-copilot": {
      "command": "cargo",
      "args": ["copilot"]
    }
  }
}
```

## Tools

`cargo-copilot` allows the LLM to inspect dependencies and read local
documentation generated by `cargo doc`.

| Tool                 | Description                                                                                                                                             |
| :------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `cargo_dependencies` | Lists all available dependencies in the current workspace as crate ids (`name@version`). Useful for discovering what packages are available to inspect. |
| `cargo_doc_overview` | Fetches the main documentation page for a specific crate. It runs `cargo doc --package <name> --no-deps` internally to ensure docs are available.       |
| `cargo_doc_index`    | Lists all symbols (modules, macros, structs, enums, functions, types) found in a crate's generated documentation.                                       |
| `cargo_doc_get`      | Retrieves the full documentation for a specific symbol (e.g., `de/struct.Deserializer`) as Markdown.                                                    |

## Instructions

To get the best results, provide the following system prompt to your LLM:

```text
You have access to the `cargo-copilot` MCP server. When asked about Rust implementation details or dependency usage:

1. Use `cargo_dependencies` to identify available crates in the workspace.
2. Use `cargo_doc_overview` to understand the high-level purpose of a crate.
3. Use `cargo_doc_index` to explore the API surface of a crate.
4. Use `cargo_doc_get` to read specific documentation for functions, structs, or traits.

Always prefer using these tools to read the actual local source/docs over hallucinating APIs, as versions may differ from your training data.
```

## License

MIT. Use it for whatever.
